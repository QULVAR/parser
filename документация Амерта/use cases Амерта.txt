{{TOC}}

===

# Обработка ошибок и альтернативные сценарии
## Глобальные альтернативные сценарии
### ERR-01. Ошибка сервера / недоступность сервиса

**Условие возникновения:**

Система не может выполнить запрошенную операцию по техническим причинам
(ошибка сервера, недоступность сервиса, таймаут, проблема соединения).

**Поведение системы:**

1. Запрошенная операция не выполняется
2. Данные пользователя не изменяются
3. Пользователю отображается сообщение:
4. «Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»
5. Пользователь остаётся в текущем контексте (форма, страница)

**Постусловие:**

Состояние системы остаётся неизменным

### ERR-02. Ошибка валидации данных

**Условие возникновения:**

Введённые пользователем данные не соответствуют установленным правилам
(формат email, длина пароля, диапазон значений и т.п.).

**Поведение системы:**
1. Операция не выполняется
2. Поля с ошибками подсвечиваются
3. Отображается сообщение с причиной ошибки
4. Кнопка действия остаётся недоступной до исправления данных

**Постусловие:**

Пользователь остаётся на форме ввода данных

### ERR-03. Дубликат сущности

**Условие возникновения:**

Пользователь или объект с указанным идентификатором уже существует
(email, промокод).

**Поведение системы:**

1. Новая сущность не создаётся
2. Пользователю отображается сообщение об ошибке
3. (например, «Пользователь уже зарегистрирован»)
4. Введённые данные сохраняются в форме

### ERR-04. Сущность не найдена
**Условие возникновения:**
Запрошенная сущность отсутствует в системе
(пользователь, промокод, результаты поиска).

**Поведение системы:**
Для авторизации:
отображается сообщение «Неверный логин или пароль»
Для поиска / промокода:
отображается сообщение об отсутствии результата

### ERR-05. Некорректный формат импортируемого файла

**Условие возникновения:**

Загруженный файл не соответствует ожидаемому формату или структуре.

**Поведение системы:**

1. Импорт не выполняется
2. Данные каталога не изменяются
3. Администратору отображается сообщение
4. «Некорректный формат файла»

## Локальные альтернативные сценарии (UI/поведение)

### LOC-01. Закрытие модального окна кликом вне формы
**Условие:**

Пользователь нажимает вне области модального окна.

**Поведение системы:**

Форма закрывается, пользователь остаётся на предыдущей странице.

### LOC-02. Повторное открытие календаря

**Условие:**

Пользователь повторно открывает календарь выбора дат.

**Поведение системы:**

Ранее выбранный диапазон отображается и может 
быть изменён.

### LOC-03. Повторное действие с тумблером корзины

**Условие:**

Пользователь повторно нажимает на тумблер добавления товара.


**Поведение системы:**

Товар удаляется из корзины.

### LOC-04. Уменьшение количества до минимального значения

**Условие:**

Количество товара уменьшается до минимального допустимого значения.

**Поведение системы:**

Товар удаляется из корзины.

===
# Use cases

#### ~~**ТЗ: Регистрация в системе**~~

~~**ID:** UC-REG-1~~

~~**Краткое описание:**~~
~~Пользователь создает новую учетную запись в системе, используя логин и пароль~~

~~**Основные действующие лица:**~~
*   ~~Пользователь (П)~~
*   ~~Мобильное приложение / Веб-интерфейс (МП)~~
*   ~~База данных (БД)~~

~~**Предусловия:**~~
1.  ~~Пользователь не авторизован в системе~~
2.  ~~Пользователь находится на экране «Аутентификации»~~

~~**Основной поток:**~~
1.  ~~П: Нажимает кнопку «Зарегистрироваться»~~
2.  ~~МП: Отображает экран регистрации с полями «Логин», «Пароль», «Подтверждение пароля» и некликабельной кнопкой «Создать аккаунт»~~
3.  ~~П: Вводит логин и пароль, подтверждает пароль~~
4.  ~~МП: Проверяет введенные данные на валидацию. Кнопка «Создать аккаунт» становиться кликабельной после прохождения валидации~~
5.  ~~П: Нажимает кнопку «Создать аккаунт»~~
6.  ~~МП: Отправляет запрос в БД на создание новой учетной записи.~~
7.  ~~БД: Сохраняет логин и хэш пароля, возвращает успешный ответ о создании пользователя~~
8.  ~~МП: Автоматически авторизует пользователя в системе и перенаправляет его на главную страницу с его профилем. Отображает уведомление об успешной регистрации~~

~~**Постусловия:**~~
1.  ~~Пользователь авторизован в системе~~
2.  ~~Учетная запись пользователя создана и сохранена в БД~~
3.  ~~Уведомление об успешной регистрации отображается~~

~~**Альтернативные сценарии:**~~

~~**А1: Логин уже занят**~~
1.  ~~На этапе 7 основного потока БД проверяет и обнаруживает, что введенный логин уже существует~~
2.  ~~МП: Отображает сообщение об ошибке: «Пользователь с таким логином уже зарегистрирован»~~
3.  ~~П: Возвращается к этапу 3 основного потока~~

~~**А2: Пароль не соответствует требованиям безопасности**~~
1.  ~~На этапе 4 основного потока система проверяет и обнаруживает, что пароль слишком простой (например, короче 8 символов)~~
2.  ~~МП: Отображает сообщение об ошибке с требованиями к паролю~~
3.  ~~П: Возвращается к этапу 3 основного потока~~

~~**А3: Пароли не совпадают**~~
1.  ~~На этапе 4 основного потока система проверяет и обнаруживает, что поля «Пароль» и «Подтверждение пароля» не совпадают~~
2.  ~~МП: Отображает сообщение об ошибке: «Введенные пароли не совпадают»~~
3.  ~~П: Возвращается к этапу 3 основного потока~~

~~**А4: Ошибка соединения с БД**~~
1.  ~~На этапе 6 основного потока БД недоступна~~
2.  ~~МП: Отображает пользователю уведомление об ошибке: «Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»~~
3.  ~~Сценарий завершается неудачно~~

~~**Нефункциональные требования**~~
~~**Т1: Требования безопасности:**~~

1. ~~Передача логина и пароля между МП и сервером должна осуществляться по защищенному соединению (HTTPS/TLS)~~
2. ~~Пароль должен соответствовать политике сложности: минимум 8 символов~~
3. ~~Логин должен быть уникален в системе~~
4. ~~Логин является почтой~~

---

## ТЗ: Авторизация в системе

**ID:** UC-AUTH-1

**Краткое описание:**
Пользователь входит в систему, используя свои учетные данные (логин и пароль)

**Основные действующие лица:**
*   Пользователь (П)
*   Админ (А)
*   Мобильное приложение / Веб-интерфейс (МП)
*   База данных (БД)

**Предусловия:**
1.  Пользователь не авторизован в системе
2.  У пользователя есть созданная учетная запись
3.  Пользователь находится на экране «Вход»

**Основной поток:**
1.  МП: Отображает экран авторизации с полями «Логин», «Пароль» и некликабельной кнопкой «Войти»
2.  П: Вводит свой логин и пароль
3.  МП: Проверяет формат введенных данных. Данные проходят валидацию и кнопка «Войти» становиться кликабельной
4.  П: Нажимает на кнопку «Войти»
5.  МП: Отправляет запрос в БД на проверку учетных данных (логин и хэш пароля)
6.  БД: Проверяет логин и пароль, возвращает успешный ответ и данные пользователя
7.  МП: Создает сессию пользователя, авторизуя его в системе
8.  МП: Перенаправляет пользователя в его профиль
9.  МП: Отображает уведомление об успешном входе в систему

**Постусловия:**
1.  П: Авторизован в системе
2.  П: Имеет доступ к функциям, требующим авторизации
3.  МП: Отображает уведомление об успешном входе в систему

**Альтернативные сценарии:**

**А1: Неверный логин или пароль**
1.  На этапе 6 основного потока БД возвращает ошибку, что логин или пароль неверны
2.  МП: Отображает сообщение об ошибке: «Неверный логин или пароль»
3.  Пользователь возвращается к этапу 3 основного потока

**А2: Пользователь с таким логином не найден**
1.  На этапе 6 основного потока БД возвращает ошибку, что пользователь с таким логином не существует
2.  МП: Отображает сообщение об ошибке: «Неверный логин или пароль» (в целях безопасности не уточняя, что именно неверно)
3.  Пользователь возвращается к этапу 3 основного потока

**А3: Ошибка соединения с БД**
1.  На этапе 6 основного потока БД недоступна
2.  МП: Отображает пользователю уведомление об ошибке: «Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»
3.  Сценарий завершается неудачно

---

## ТЗ: Импорт данных

**ID:** UC-ADM-1

**Краткое описание:**
Админ импортирует данные для каталога

**Основные действующие лица:**
*   Админ (А)
*   Мобильное приложение / Веб-интерфейс (МП)
*   База данных (БД)

**Предусловия:**
1.  Админ авторизован в системе
2.  Админ зашел в админ панель

**Основной поток:**
1.  А: Нажимает на кнопку импорта каталога и загружает файл
2.  МП: Обрабатывает файл и передает данные БД
3.  БД: Принимает данные и передает сообщение об успешной операции
4.  МП: Обновляет каталог для всех пользователей и отображает админу уведомление об успешном обновлении каталога для всех пользователей

**Постусловия:**
1.  А: Получил сообщение об успешном изменении каталога
2.  БД: Сохранила новый каталог
3.  МП: Отображает всем пользователям новый каталог

**Альтернативные сценарии:**

**А1: Некорректный формат файла**
1.  На этапе 2 основного потока МП возвращает ошибку, что файл невозможно обработать
2.  МП: Отображает сообщение об ошибке: «Некорректный формат файла»
3.  Пользователь возвращается к этапу 1 основного потока

**А2: Ошибка соединения с БД**
1.  На этапе 3 основного потока БД недоступна
2.  МП: Отображает пользователю уведомление об ошибке: «Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»
3.  Сценарий завершается неудачно

---

## ТЗ: Создание пользователя

**ID:** UC-ADM-2

**Краткое описание:**
Админ создает пользователя

**Основные действующие лица:**
*   Админ (А)
*   Мобильное приложение / Веб-интерфейс (МП)
*   База данных (БД)

**Предусловия:**
1.  Админ авторизован в системе
2.  Админ зашел в админ панель

**Основной поток:**
1.  А: Нажал на кнопку редактирования пустых полей в форме пользователей
2.  МП: Отображает пустые поля «Логин», «Пароль» и некликабельной кнопкой сохранить
3.  А: Вводит логин и пароль
4.  МП: Проверяет введенные данные на валидацию. Кнопка сохранить становиться кликабельной после прохождения валидации
5.  А: Нажимает на кнопку сохранения
6.  МП: Отправляет запрос в БД на создание новой учетной записи.
7.  БД: Сохраняет логин и хэш пароля, возвращает успешный ответ о создании пользователя
8.  МП: Отображает админу уведомление об успешной регистрации пользователя

**Постусловия:**
1.  Учетная запись пользователя создана и сохранена в БД
2.  Уведомление об успешной регистрации отображается

**Альтернативные сценарии:**

**А1: Логин уже занят**
1.  На этапе 7 основного потока БД проверяет и обнаруживает, что введенный логин уже существует
2.  МП: Отображает сообщение об ошибке: «Пользователь с таким логином уже зарегистрирован»
3.  А: Возвращается к этапу 3 основного потока

**А2: Пароль не соответствует требованиям безопасности**
1.  На этапе 4 основного потока система проверяет и обнаруживает, что пароль слишком простой (например, короче 8 символов)
2.  МП: Отображает сообщение об ошибке с требованиями к паролю
3.  А: Возвращается к этапу 3 основного потока

**А3: Ошибка соединения с БД**
1.  На этапе 6 основного потока БД недоступна
2.  МП: Отображает пользователю уведомление об ошибке: «Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»
3.  Сценарий завершается неудачно

**Нефункциональные требования**
**Т1: Требования валидации:**

1. Передача логина и пароля между МП и сервером должна осуществляться по защищенному соединению (HTTPS/TLS)
2. Пароль должен соответствовать политике сложности: минимум 8 символов
3. Логин должен быть уникален в системе
4. Логин является почтой

---

## ТЗ: Удаление пользователя

**ID:** UC-ADM-3

**Краткое описание:**
Админ удаляет пользователя

**Основные действующие лица:**
*   Админ (А)
*   Мобильное приложение / Веб-интерфейс (МП)
*   База данных (БД)

**Предусловия:**
1.  Админ авторизован в системе
2.  Админ зашел в админ панель

**Основной поток:**
1.  А: Нажал на кнопку удаления пользователя
2.  МП: Отправляет запрос в БД на удаление учетной записи.
3.  БД: Удаляет аккаунт, возвращает успешный ответ об успешном удалении пользователя
4.  МП: Отображает админу уведомление об успешном удалении пользователя

**Постусловия:**
1.  Учетная запись пользователя удалена
2.  Уведомление об успешном удалении отображается

**Альтернативные сценарии:**

**А1: Ошибка соединения с БД**
1.  На этапе 3 основного потока БД недоступна
2.  МП: Отображает пользователю уведомление об ошибке: «Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»
3.  Сценарий завершается неудачно

---

## ТЗ: Создание промокода

**ID:** UC-ADM-4

**Краткое описание:**
Админ создает промокод

**Основные действующие лица:**
*   Админ (А)
*   Мобильное приложение / Веб-интерфейс (МП)
*   База данных (БД)

**Предусловия:**
1.  Админ авторизован в системе
2.  Админ зашел в админ панель

**Основной поток:**
1.  А: Нажал на кнопку создания промокода
2.  МП: Отображает форму создания с полями промокод, размер промокода в процентах и кнопкой сохранить
3.  А: Вводит промокод и его размер. Нажимает кнопку сохранить
4.  МП: Отправляет запрос в БД на создание промокода.
5.  БД: Создает промокод, возвращает успешный ответ об успешном создании промокода
6.  МП: Отображает админу уведомление об успешном создании промокода

**Постусловия:**
1.  Промокод успешно создан и может применяться пользователями
2.  Уведомление об успешном создании отображается

**Альтернативные сценарии:**

**А1: Введенный промокод уже создан**
1.  На этапе 5 основного потока БД проверяет и обнаруживает, что введенный промокод уже существует
2.  МП: Отображает сообщение об ошибке: «Промокод уже существует»
3.  А: Возвращается к этапу 3 основного потока

**А2: Ошибка соединения с БД**
1.  На этапе 5 основного потока БД недоступна
2.  МП: Отображает пользователю уведомление об ошибке: «Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»
3.  Сценарий завершается неудачно

**А3: Ошибка валидации**
1. На этапе 4 основного потока данные админа не проходят валидацию
2. МП: Отображает пользователю уведомление об ошибке
3. А: возвращается на 3 этап основного потока


**Нефункциональные требования**
**Т1: Требования валидации:**

1. Промокод должен содержать латинские буквы и цифры, позволительно использовать спецсимволы
2. Размер промокода должен быть больше 0 и меньше 10

---

## ТЗ: Удаление промокода

**ID:** UC-ADM-5

**Краткое описание:**
Админ удаляет промокод

**Основные действующие лица:**
*   Админ (А)
*   Мобильное приложение / Веб-интерфейс (МП)
*   База данных (БД)

**Предусловия:**
1.  Админ авторизован в системе
2.  Админ зашел в админ панель

**Основной поток:**
1.  А: Нажал на кнопку удаление промокода
2.  МП: Отправляет запрос в БД на удаление промокода
3.  БД: Удаляет промокод, возвращает успешный ответ об успешном удалении промокода
4.  МП: Отображает админу уведомление об успешном удалении промокода

**Постусловия:**
1.  Промокод успешно удален и больше не может применяться пользователями
2.  Уведомление об успешном удалении отображается

**Альтернативные сценарии:**

**А1: Ошибка соединения с БД**
1.  На этапе 2 основного потока БД недоступна
2.  МП: Отображает пользователю уведомление об ошибке: «Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»
3.  Сценарий завершается неудачно

---

## ТЗ: Выход из панели админа

**ID:** UC-ADM-6

**Краткое описание:**
Админ выходит из панели

**Основные действующие лица:**
*   Админ (А)
*   Мобильное приложение / Веб-интерфейс (МП)

**Предусловия:**
1.  Админ авторизован в системе
2.  Админ зашел в админ панель

**Основной поток:**
1.  А: Нажимает на пространство вне панели
2.  МП: Переносит админа в личный кабинет

**Постусловия:**
1.  Админ находится в личном кабинете

---

## ТЗ: Добавление товара в корзину

**ID:** UC-MP-1

**Краткое описание:**
Пользователь находится на главной странице и добавляет товар в корзину

**Основные действующие лица:**
*   Пользователь (П)
*   Мобильное приложение / Веб-интерфейс (МП)

**Предусловия:**
1.  Пользователь авторизован в системе
2.  Пользователь находится на главном экране
3.  На главной странице загружен сгруппированный список позиций

**Основной поток:**
1.  П: Видит список сгруппированных позиций на аренду. Нажимает на одну из групп
2.  МП: Раскрывает группу в виде выпадающего списка, содержащего  наименование товара и его тарифный план, справа от этой информации содержится кнопка для добавления позиции в корзину
3.  П: Добавляет одну из позиций в корзину
4.  МП: Изменяет число позиций в корзине

**Постусловия:**
1.  Выбранная позиция находится в корзине

**Альтернативные сценарии:**

**А1: Удаление позиции**
1. П: Нажимает на тумблер товара, который уже добавлен в корзину
2. МП: Возвращает тумблер в начальное положение и удаляет товар из корзины

**Нефункциональные требования: **

**Т1. Шапка главной страницы**

1. Личный кабинет
2. Кнопка по переходу на главную страницу, представляющую собой логотип компании и ее название
3. Корзина

**Т2. Общее содержимое**
1. Поисковая строка
2. Группы позиций разделенные по категориям, в которых каждая позиция включает в себя:
	1. Название позиции
	2. Размер суточного тарифа
	3. Размер недельного тарифа
	4. Тариф с Чт 17.00 до Пн 12.00
	5. Тариф с Пт 17.00 до Пн 12.00
	6. Тумблер по добавлению товара в корзину или его удаления

---

## ТЗ: Поиск товаров

**ID:** UC-MP-2

**Краткое описание:**
Пользователь находится на главной странице и использует поиск

**Основные действующие лица:**
*   Пользователь (П)
*   Мобильное приложение / Веб-интерфейс (МП)
*   База данных (БД)

**Предусловия:**
1.  Пользователь авторизован в системе
2.  Пользователь находится на главном экране

**Основной поток:**
1.  П: Нажимает на поиск товара и начинает вводить символы
2.  МП: Оставляет группы, содержащие в названии символы, соответствующие введенным в поиск или оставляет группы, содержащие позиции соответствующие введенным в поиск

**Постусловия:**
1.  На главной странице остаются только позиции, удовлетворяющие условиям поиска

**Альтернативные сценарии:**

**А1: Пользователь ввел набор символов, которые не соответствуют ни одной группе и позиции**
1.  МП: Оставляет пустую страницу

---

## ТЗ: Личный кабинет

**ID:** UC-MP-3

**Краткое описание:**
Пользователь находится на главной странице и хочет зайти в личный кабинет

**Основные действующие лица:**
*   Пользователь (П)
*   Админ (А)
*   Мобильное приложение / Веб-интерфейс (МП)

**Предусловия:**
1.  Пользователь авторизован в системе
2.  Пользователь находится на главном экране

**Основной поток:**
1.  П: Нажимает на вкладку «Личный кабинет»
2.  МП: Открывает форму поверх главной страницы. В ее верхней части располагается надпись: «Вы вошли как:». Форма содержит:
	1. Имя пользователя
	2. Почта
	3. Кнопка выхода

**Постусловия:**
1. Пользователь находится в личном кабинете

**Альтернативные сценарии:**

**А1: Пользователь нажимает на любое пространство вне формы**
1.  МП: Закрывает форму, оставляя пользователя на главной странице

**А2: Пользователь нажимает на кнопку выхода**
1. МП: Переводит пользователя на страницу аутентификации

**А3: Пользователь является админом**
1. На этапе 2 основного потока добавляется админ панель

---

## ТЗ: Корзина

**ID:** UC-BT-1

**Краткое описание:**
Пользователь находится на главной странице и пользуется функционалом корзины

**Основные действующие лица:**
*   Пользователь (П)
*   Мобильное приложение / Веб-интерфейс (МП)

**Предусловия:**
1.  Пользователь авторизован в системе
2.  Пользователь находится на главном экране

**Основной поток:**
1.  П: Нажимает на вкладку «Корзина»
2.  МП: Открывает форму поверх главной страницы.  Форма содержит:
	1. Календарь выбора дат
	2. Список товаров с возможностью редактирования их числа
	3. Промокода
	4. Общая стоимость аренды
	5. Кнопка расчета стоимости аренды (изначально некликабельная)
	6. Кнопка экспорта
3. П: Нажимает на календарь и выбирает начальную и конечную дату и время и нажимает на область вне календаря, чтобы ее покинуть
4. МП: Окрашивает кнопку расчета в зеленый и делает ее клибальной
5. П: Нажимает на кнопку расчета
6. МП: Выводит сумму аренды на форме и делает кнопку экспорта кликабельной

**Постусловия:**
1. Выведена сумма аренды
2. Выведена дата аренды

**Альтернативные сценарии:**

**А1: Пользователь нажимает на любое пространство вне формы**
1.  МП: Закрывает форму, оставляя пользователя на главной странице

**А2: Пользователь нажимает на кнопку календаря вторично**
1. МП: Отображает предыдущий результат действий пользователя виде диапазона времени
2. П: Вводит данные заново и закрывает форму, после этого он снова нажимает на кнопку расчета стоимости аренды
3. МП: Пересчитывает стоимость аренды и выводит информацию

---

## ТЗ: Промокод

**ID:** UC-BT-2

**Краткое описание:**
Пользователь находится на вкладке «Корзина» и использует промокод

**Основные действующие лица:**
*   Пользователь (П)
*   Мобильное приложение / Веб-интерфейс (МП)

**Предусловия:**
1.  Пользователь авторизован в системе
2.  Пользователь находится на вкладке «Корзина»
3.  Пользователь добавил хотя бы один товар в корзину и обозначил дату аренды

**Основной поток:**
1. П: Вводит промокод
2. МП: Отправляет запрос в БД для проверки наличия промокода
3. БД: Проверяет на наличие и возвращает положительный ответ и процент снижения стоимости
4. МП: Получает ответ и уменьшает общую стоимость аренды при нажатии на кнопку расчета на указанное значение
5. П: Нажимает на кнопку расчета стоимости аренды
6. МП: Выводит конечную стоимость с промокодом и без

**Постусловия:**
1. Выведена сумма аренды с промокодом и без него

**Альтернативные сценарии:**

**А1: Промокод не найден**
1.  На этапе 3 основного потока БД сообщает, что промокод не найдет
2.  МП: Выводит сообщение об ошибке
3.  П: Нажимает на кнопку расчета стоимости
4.  МП: Выводит стоимость аренды без промокода

---

## ТЗ: Календарь

**ID:** UC-BT-3

**Краткое описание:**
Пользователь находится на странице корзины и использует календарь

**Основные действующие лица:**
*   Пользователь (П)
*   Мобильное приложение / Веб-интерфейс (МП)

**Предусловия:**
1.  Пользователь авторизован в системе
2.  Пользователь находится на странице корзины

**Основной поток:**
1. П: Нажимает на календарь
2. МП: Отображает календарь, содержащий текущий месяц и год, на самом календаре указана текущая дата. Под календарем указано время начала и конца аренды, по дефолту заполненных текущим временем.
2. П: Нажимает на дату в календаре
3. МП: Окрашивает дату в зеленый цвет и считает датой начала аренды
4. П: Нажимает на следующую дату в календаре
5. МП: Считает вторую дату, как конец диапазона аренды
6. П: Вводит время начала и конца аренды
7. МП: Выводит диапазон аренды в корзине

**Постусловия:**
1. В корзине отображается дата аренды

**Альтернативные сценарии:**

**А1: Пользователь нажимает на любое пространство вне формы**
1.  МП: Закрывает форму, оставляя пользователя на главной странице

**А2: Пользователь нажимает на кнопку календаря вторично**
1. МП: Отображает предыдущий результат действий пользователя виде диапазона времени
2. П: Вводит данные заново и закрывает форму, после этого он снова нажимает на кнопку расчета стоимости аренды
3. МП: Пересчитывает стоимость аренды и выводит информацию

---

## ТЗ: Изменение количества единиц позиции

**ID:** UC-BT-4

**Краткое описание:**
Пользователь находится на странице корзины и хочет изменить количество единиц позиции

**Основные действующие лица:**
*   Пользователь (П)
*   Мобильное приложение / Веб-интерфейс (МП)

**Предусловия:**
1.  Пользователь авторизован в системе
2.  Пользователь находится на странице корзины
3.  Пользователь добавил в корзину хотя бы одну позицию

**Основной поток:**
1. П: Нажимает на кнопку увеличения числа единиц позиции
2. МП: Увеличивает количество единиц

**Постусловия:**
1. В корзине отображается увеличенное число единиц позиции

**Альтернативные сценарии:**

**А1: Пользователь уменьшает количество единиц товара**
1. П: Нажимает на кнопку уменьшения числа единиц позиции
2. МП: Проверяет, чтобы количество было больше 1 и уменьшает, иначе удаляет товар из корзины

---

## ТЗ: Экспорт сметы

**ID:** UC-EXP-1

**Краткое описание:**
Пользователь посчитал смету в корзине и хочет экспортировать в отдельный файл

**Основные действующие лица:**
*   Пользователь (П)
*   Мобильное приложение / Веб-интерфейс (МП)
*   База данных (БД)

**Предусловия:**
1.  Пользователь авторизован в системе
2.  Пользователь находится на вкладке «Корзина»
3.  Пользователь уже закончил расчет сметы, нажав по крайней мере один раз на кнопку расчета

**Основной поток:**
1.  П: Нажимает на кнопку экспорта
2.  МП: Подготавливает данные и экспортирует данные

**Постусловия:**
1. Пользователь получил экспортированный файл
