{{TOC}}

===

# User Stories

## ~~US-01 — Регистрация пользователя~~

~~**User Story**~~  
~~Как **новый пользователь**~~  
~~я хочу **зарегистрироваться, используя email и пароль**~~  
~~чтобы **получить доступ к системе и начать пользоваться функционалом**~~

### ~~Критерии приёмки~~

~~**AC-01 — Отображение формы регистрации**~~  
- ~~**Дано:** пользователь находится на экране аутентификации~~  
- ~~**Когда:** пользователь нажимает «Зарегистрироваться»~~  
- ~~**Тогда:** отображается форма регистрации с полями:~~
  - ~~Email (логин)~~
  - ~~Пароль~~
  - ~~Подтверждение пароля~~  
  ~~и кнопка «Создать аккаунт» неактивна по умолчанию~~

~~**AC-02 — Успешная регистрация**~~  
- ~~**Дано:** пользователь ввёл валидный email~~  
  ~~и пароль длиной **не менее 8 символов**~~  
  ~~и пароль совпадает с подтверждением~~  
- ~~**Когда:** пользователь нажимает «Создать аккаунт»~~  
- ~~**Тогда:** система создаёт учетную запись~~  
  ~~и автоматически авторизует пользователя~~  
  ~~и выполняет переход на главную страницу/профиль~~  
  ~~и отображает уведомление об успешной регистрации~~

~~**AC-03 — Пользователь уже существует**~~  
- ~~**Дано:** введённый email уже зарегистрирован~~  
- ~~**Когда:** пользователь нажимает «Создать аккаунт»~~  
- ~~**Тогда:** система не создаёт новую учетную запись~~  
  ~~и отображает сообщение об ошибке «Пользователь уже зарегистрирован»~~  
  ~~и пользователь остаётся на форме регистрации~~

~~**AC-04 — Пароли не совпадают**~~  
- ~~**Дано:** пароль и подтверждение пароля не совпадают~~  
- ~~**Когда:** пользователь пытается продолжить регистрацию~~  
- ~~**Тогда:** система отображает сообщение об ошибке «Введенные пароли не совпадают»~~  
  ~~и не позволяет завершить регистрацию~~

~~**AC-05 — Пароль не соответствует требованиям**~~  
- ~~**Дано:** длина пароля меньше 8 символов (или иные правила сложности — если будут уточнены)~~  
- ~~**Когда:** пользователь вводит пароль~~  
- ~~**Тогда:** система отображает сообщение об ошибке с требованиями к паролю~~  
  ~~и кнопка «Создать аккаунт» остаётся неактивной~~

~~**AC-06 — Ошибка сервера/сети**~~  
- ~~**Дано:** сервис недоступен / произошла внутренняя ошибка~~  
- ~~**Когда:** пользователь пытается зарегистрироваться~~  
- ~~**Тогда:** система отображает сообщение~~  
  ~~«Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»~~  
  ~~и регистрация не завершается~~

---

## US-02 — Авторизация пользователя

**User Story**  
Как **зарегистрированный пользователь**  
я хочу **войти в систему по email и паролю**  
чтобы **получить доступ к личному кабинету и функциям приложения**

### Критерии приёмки

**AC-01 — Отображение формы входа**  
- **Дано:** пользователь не авторизован  
- **Когда:** открывает экран «Вход»  
- **Тогда:** отображаются поля Email и Пароль  
  и кнопка «Войти» неактивна по умолчанию

**AC-02 — Успешный вход**  
- **Дано:** пользователь ввёл корректные учётные данные  
- **Когда:** нажимает «Войти»  
- **Тогда:** система авторизует пользователя  
  и создаёт сессию  
  и перенаправляет на главную страницу/профиль

**AC-03 — Неверные учётные данные**  
- **Дано:** введены неверный email или пароль  
- **Когда:** пользователь нажимает «Войти»  
- **Тогда:** система отображает сообщение «Неверный логин или пароль»  
  и пользователь остаётся на экране входа

**AC-04 — Пользователь не найден (без раскрытия причины)**  
- **Дано:** пользователь с таким email не существует  
- **Когда:** пользователь нажимает «Войти»  
- **Тогда:** система отображает сообщение «Неверный логин или пароль»  
  (без уточнения, что именно неверно)

**AC-05 — Ошибка сервера/сети**  
- **Дано:** сервис недоступен / произошла внутренняя ошибка  
- **Когда:** пользователь пытается войти  
- **Тогда:** система отображает сообщение  
  «Внутренняя ошибка сервиса. Пожалуйста, попробуйте позже»  
  и вход не выполняется

---

## US-03 — Просмотр личного кабинета

**User Story**  
Как **авторизованный пользователь**  
я хочу **открыть личный кабинет**  
чтобы **увидеть информацию о своей учётной записи**

### Критерии приёмки

**AC-01 — Открытие личного кабинета**  
- **Дано:** пользователь авторизован и находится на главной странице  
- **Когда:** нажимает «Личный кабинет»  
- **Тогда:** открывается модальное окно (форма) поверх главной страницы  
  и отображается:
  - «Вы вошли как:»
  - Имя пользователя
  - Email
  - Кнопка «Выход»

**AC-02 — Закрытие формы кликом вне окна**  
- **Дано:** форма личного кабинета открыта  
- **Когда:** пользователь нажимает вне области формы  
- **Тогда:** форма закрывается, пользователь остаётся на главной странице

**AC-03 — Доступ админа к админ-панели**  
- **Дано:** пользователь авторизован и имеет роль администратора  
- **Когда:** открывает личный кабинет  
- **Тогда:** отображается элемент доступа к админ-панели (админ панель доступна пользователю)

---

## US-04 — Выход из системы

**User Story**  
Как **авторизованный пользователь**  
я хочу **выйти из системы**  
чтобы **завершить сессию и предотвратить доступ к аккаунту с устройства**

### Критерии приёмки

**AC-01 — Успешный выход**  
- **Дано:** пользователь авторизован  
- **Когда:** нажимает кнопку «Выход» в личном кабинете  
- **Тогда:** система завершает сессию пользователя  
  и перенаправляет на экран аутентификации

**AC-02 — Ограничение доступа после выхода**  
- **Дано:** пользователь вышел из системы  
- **Когда:** пытается открыть защищённые разделы (главная/корзина/профиль) через прямой переход  
- **Тогда:** система перенаправляет на экран входа

## US-05 — Просмотр каталога оборудования

**User Story**  
Как **авторизованный пользователь**  
я хочу **просматривать каталог оборудования, сгруппированный по категориям**  
чтобы **выбрать подходящие позиции для аренды**

### Критерии приёмки

**AC-01 — Отображение каталога**  
- **Дано:** пользователь авторизован  
- **Когда:** открывает главную страницу  
- **Тогда:** отображается каталог, сгруппированный по категориям

**AC-02 — Раскрытие категории**  
- **Дано:** на странице отображается группа товаров  
- **Когда:** пользователь нажимает на группу  
- **Тогда:** группа раскрывается и отображает список позиций с тарифами:
  - суточный тариф  
  - недельный тариф  
  - тариф с Чт 17:00 до Пн 12:00  
  - тариф с Пт 17:00 до Пн 12:00

---

## US-06 — Поиск по каталогу

**User Story**  
Как **пользователь**  
я хочу **искать товары по названию**  
чтобы **быстро находить нужные позиции**

### Критерии приёмки

**AC-01 — Поиск по группам и позициям**  
- **Дано:** пользователь находится на главной странице  
- **Когда:** вводит текст в строку поиска  
- **Тогда:** отображаются только группы или позиции, содержащие введённый текст

**AC-02 — Отсутствие результатов**  
- **Дано:** введённый текст не соответствует ни одной группе или позиции  
- **Когда:** поиск выполняется  
- **Тогда:** отображается пустое состояние (без позиций)

---

# User Stories — Корзина и аренда

## US-07 — Добавление и удаление товаров из корзины

**User Story**  
Как **пользователь**  
я хочу **добавлять и удалять товары из корзины**  
чтобы **формировать список оборудования для аренды**

### Критерии приёмки

**AC-01 — Добавление товара**  
- **Дано:** пользователь просматривает каталог  
- **Когда:** нажимает тумблер добавления товара  
- **Тогда:** товар добавляется в корзину  
  и счётчик корзины увеличивается

**AC-02 — Удаление товара повторным действием**  
- **Дано:** товар уже добавлен в корзину  
- **Когда:** пользователь нажимает тумблер повторно  
- **Тогда:** товар удаляется из корзины  
  и счётчик корзины уменьшается

---

## US-08 — Изменение количества товара в корзине

**User Story**  
Как **пользователь**  
я хочу **изменять количество единиц товара в корзине**  
чтобы **арендовать нужное количество оборудования**

### Критерии приёмки

**AC-01 — Увеличение количества**  
- **Дано:** товар находится в корзине  
- **Когда:** пользователь нажимает кнопку увеличения количества  
- **Тогда:** количество товара увеличивается на 1

**AC-02 — Уменьшение количества**  
- **Дано:** количество товара больше 1  
- **Когда:** пользователь нажимает кнопку уменьшения  
- **Тогда:** количество уменьшается на 1

**AC-03 — Удаление товара при минимальном количестве**  
- **Дано:** количество товара равно 1  
- **Когда:** пользователь нажимает кнопку уменьшения  
- **Тогда:** товар удаляется из корзины

---

## US-09 — Выбор дат аренды

**User Story**  
Как **пользователь**  
я хочу **выбрать даты и время начала и окончания аренды**  
чтобы **рассчитать стоимость аренды**

### Критерии приёмки

**AC-01 — Открытие календаря**  
- **Дано:** пользователь находится в корзине  
- **Когда:** нажимает на календарь  
- **Тогда:** отображается календарь с текущим месяцем и датой  
  и временем начала и окончания, заполненным по умолчанию текущим временем

**AC-02 — Выбор диапазона дат**  
- **Когда:** пользователь выбирает дату начала и дату окончания  
- **Тогда:** выбранный диапазон фиксируется как период аренды

**AC-03 — Повторное открытие календаря**  
- **Дано:** период аренды уже выбран  
- **Когда:** пользователь повторно открывает календарь  
- **Тогда:** ранее выбранный диапазон отображается и может быть изменён

---

## US-10 — Расчёт стоимости аренды

**User Story**  
Как **пользователь**  
я хочу **рассчитать стоимость аренды**  
чтобы **увидеть итоговую сумму**

### Критерии приёмки

**AC-01 — Доступность расчёта**  
- **Дано:** в корзине есть товары  
  и выбран период аренды  
- **Когда:** пользователь нажимает кнопку «Рассчитать»  
- **Тогда:** система рассчитывает и отображает общую стоимость аренды

**AC-02 — Блокировка расчёта**  
- **Дано:** товары или даты не выбраны  
- **Тогда:** кнопка «Рассчитать» недоступна

---

## US-11 — Применение промокода

**User Story**  
Как **пользователь**  
я хочу **применить промокод**  
чтобы **получить скидку на аренду**

### Критерии приёмки

**AC-01 — Применение валидного промокода**  
- **Дано:** введён существующий промокод  
- **Когда:** пользователь нажимает «Рассчитать»  
- **Тогда:** скидка применяется  
  и отображается стоимость **с промокодом** и **без него**

**AC-02 — Невалидный промокод**  
- **Дано:** введён несуществующий промокод  
- **Когда:** пользователь нажимает «Рассчитать»  
- **Тогда:** отображается сообщение об ошибке  
  и стоимость рассчитывается без скидки

---

## US-12 — Экспорт сметы

**User Story**  
Как **пользователь**  
я хочу **экспортировать рассчитанную смету в файл**  
чтобы **сохранить или передать расчёт**

### Критерии приёмки

**AC-01 — Экспорт после расчёта**  
- **Дано:** стоимость аренды рассчитана  
- **Когда:** пользователь нажимает кнопку «Экспорт»  
- **Тогда:** формируется файл со сметой  
  и файл доступен для скачивания

**AC-02 — Блокировка экспорта без расчёта**  
- **Дано:** расчёт не выполнен  
- **Тогда:** кнопка «Экспорт» недоступна

---

# User Stories — Администрирование

## US-13 — Импорт каталога

**User Story**  
Как **администратор**  
я хочу **импортировать файл каталога**  
чтобы **обновить список оборудования для всех пользователей**

### Критерии приёмки

**AC-01 — Успешный импорт**  
- **Дано:** администратор находится в админ-панели  
- **Когда:** загружает файл корректного формата  
- **Тогда:** каталог обновляется  
  и отображается уведомление об успешной операции

**AC-02 — Некорректный формат файла**  
- **Дано:** загружен файл неподдерживаемого формата  
- **Когда:** администратор пытается выполнить импорт  
- **Тогда:** импорт не выполняется  
  и отображается сообщение «Некорректный формат файла»

---

## US-14 — Управление пользователями

### Создание пользователя

**User Story**  
Как **администратор**  
я хочу **создавать пользователей вручную**  
чтобы **управлять доступом к системе**

**Критерии приёмки**
- Email пользователя уникален  
- Пароль не менее 8 символов  
- При успешном создании отображается уведомление

### Удаление пользователя

**User Story**  
Как **администратор**  
я хочу **удалять пользователей**  
чтобы **лишать их доступа к системе**

**Критерии приёмки**
- Пользователь удаляется успешно  
- При ошибке отображается сообщение об ошибке

---

## US-15 — Управление промокодами

### Создание промокода

**User Story**  
Как **администратор**  
я хочу **создавать промокоды**  
чтобы **предоставлять пользователям скидки**

**Критерии приёмки**
- Промокод уникален  
- Размер скидки больше 0 и меньше 100 процентов  

### Удаление промокода

**User Story**  
Как **администратор**  
я хочу **удалять промокоды**  
чтобы **они больше не могли быть использованы**

